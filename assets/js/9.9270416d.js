(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{371:function(s,a,e){"use strict";e.r(a);var t=e(42),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"devtool"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#devtool"}},[s._v("#")]),s._v(" devtool")]),s._v(" "),e("h2",{attrs:{id:"关键字"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关键字"}},[s._v("#")]),s._v(" 关键字")]),s._v(" "),e("p",[s._v("可以利用一些关键字来简单理解")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("eval: 使用eval包裹代码")])]),s._v(" "),e("li",[e("p",[s._v("source-map: 产生.map文件")])]),s._v(" "),e("li",[e("p",[s._v("cheap: 不包含列信息")])]),s._v(" "),e("li",[e("p",[s._v("inline: 将.map作为DataURLs嵌入, 不单独生成.map文件")])]),s._v(" "),e("li",[e("p",[s._v("module: 包含loader的source-map")])])]),s._v(" "),e("h2",{attrs:{id:"devtool-eval"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#devtool-eval"}},[s._v("#")]),s._v(" devtool: eval")]),s._v(" "),e("p",[s._v("这个和上面提的关键字不同, 这是一种具体的devtool参数")]),s._v(" "),e("p",[s._v("webpack打包后的代码被包裹在eval内执行, 打包后的代码类似下面这样")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/******/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("modules")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpackBootstrap")]),s._v("\n          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/******/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/************************************************************************/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/******/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/***/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/hello.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*!**********************!*\\\n  !*** ./src/hello.js ***!\n  \\**********************/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*! exports provided: hello, hello2 */")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/***/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" __webpack_exports__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" __webpack_require__")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use strict"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"hello\\", function() { return hello; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"hello2\\", function() { return hello2; });\\nfunction _readOnlyError(name) { throw new Error(\\"\\\\\\"\\" + name + \\"\\\\\\" is read-only\\"); }\\n\\nfunction hello() {\\n  console.log(\'hello world\');\\n  return \'hello world\';\\n}\\nfunction hello2() {\\n  console.log(\'hello2\');\\n}\\na = (_readOnlyError(\\"a\\"), 2);\\nvar a = 1;\\n\\n//# sourceURL=webpack:///./src/hello.js?"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/***/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/***/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*! no exports provided */")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/***/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" __webpack_exports__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" __webpack_require__")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use strict"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _hello_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hello.js */ \\"./src/hello.js\\");\\n\\nObject(_hello_js__WEBPACK_IMPORTED_MODULE_0__[\\"hello\\"])();\\n\\n//# sourceURL=webpack:///./src/index.js?"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/***/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/******/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br")])]),e("p",[s._v("可以看到每个module生成的代码被eval执行, 由于我们执行的是webpack生成的代码(generated code), 并且没有额外的sourceMap, 因此,")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v('generated code - You see each module separated from each other, annotated with module names. You see the code generated by webpack. Example: Instead of import {test} from "module"; test(); you see something like var module__WEBPACK_IMPORTED_MODULE_1__ = '),e("strong",[s._v("webpack_require")]),s._v("(42); module__WEBPACK_IMPORTED_MODULE_1__.a();.")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("模块信息被保留了")])]),s._v(" "),e("li",[e("p",[s._v("build过程速度很快, 因为不需要生成额外的map文件")])]),s._v(" "),e("li",[e("p",[s._v("不适合生产环境, 因为代码由eval执行")])])]),s._v(" "),e("p",[s._v("可以看到eval分别执行各自模块的生成代码, 但是代码是由eval执行, 代码是来自哪个js文件? eval内的代码结尾处有注释,")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"//# sourceURL=webpack:///./src/hello.js?"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("利用sourceURL, 来指明eval执行的代码来自hello.js, 在chrome source中目录结构如下")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("── webpack://\n│   └── ./src\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          └──hello.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://image.fangbinwei.cn/FrontEnd/Engineering/webpack/devtool/eval.png",alt:"sourceURL"}})]),s._v(" "),e("p",[s._v("若sourceURL为"),e("code",[s._v("http://www.domain.com/hello.js")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("── www.domain.com\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          └──hello.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("https://developers.google.com/web/tools/chrome-devtools/javascript/source-maps?hl=zh-cn\nhttps://www.thecssninja.com/demo/source_mapping/compile.html")])]),s._v(" "),e("p",[s._v("所以eval这种方式, 可以帮助我们在generated code的层面调试代码,")]),s._v(" "),e("p",[s._v("如果"),e("code",[s._v("devtool: none")]),s._v(", 那我们连代码是属于哪个文件的提示信息也没有了, 只能认为判断, 因为, generated code 去掉eval, 那就可以认为是bundle code, 因为通过eval提供的模块化信息没了.\n:;:tip\nbundled code - You see all generated code as a big blob of code. You don't see modules separated from each other.\n:::")]),s._v(" "),e("h2",{attrs:{id:"eval-cheap-source-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-cheap-source-map"}},[s._v("#")]),s._v(" eval-cheap-source-map")]),s._v(" "),e("p",[s._v("webpack生成的代码由eval执行, eval中包含sourceURL, sourceMappingURL内联sourceMap(包含行信息), sourceMap对应代码为经过loader之后的代码")]),s._v(" "),e("p",[s._v("内联的sourceMap是DataURLs的形式")]),s._v(" "),e("p",[s._v("代码质量transformed code")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v('transformed code - You see each module separated from each other, annotated with module names. You see the code before webpack transforms it, but after Loaders transpile it. Example: Instead of import {test} from "module"; class A extends test {} you see something like import {test} from "module"; var A = function(_test) { ... }(test);')])]),s._v(" "),e("h2",{attrs:{id:"eval-cheap-module-source-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-cheap-module-source-map"}},[s._v("#")]),s._v(" eval-cheap-module-source-map")]),s._v(" "),e("p",[s._v("相比上一种, sourceMap对应的代码为loader之前的源代码")]),s._v(" "),e("p",[s._v("代码质量original source")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v("original source - You see each module separated from each other, annotated with module names. You see the code before transpilation, as you authored it. This depends on Loader support.")])]),s._v(" "),e("h2",{attrs:{id:"eval-source-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-source-map"}},[s._v("#")]),s._v(" eval-source-map")]),s._v(" "),e("p",[s._v("相比"),e("code",[s._v("eval-cheap-module-source-map")]),s._v(", 多了列信息")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v("按照关键字的规则, 显然是叫"),e("code",[s._v("eval-module-source-map")]),s._v("更合适? 测试了这两种写法, eval中的内容没有区别, 应该是一样的.")])]),s._v(" "),e("h2",{attrs:{id:"inline-和eval-xxx-不会共存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inline-和eval-xxx-不会共存"}},[s._v("#")]),s._v(" inline 和eval-xxx 不会共存")]),s._v(" "),e("p",[s._v("inline和eval-xxx无法同时实现的, inline 将整个js文件的sourceMap以"),e("code",[s._v("//# sourceMappingURL=DataUrls")]),s._v("的形式插入到js文件底部")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//# sourceMappingURL=data:application/json;charset=utf-8;base64,....")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("而eval-xxx是将eval执行代码的sourceMap以DataUrls的形式插入到eval内部")]),s._v(" "),e("p",[s._v("显然eval执行的代码量比整个js执行的代码量要小")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("eval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"...//# sourceURL=[module]\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,...\\n//# sourceURL=webpack-internal:///./src/hello.js\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("大致了解后, 具体查官方文档就可以了")]),s._v(" "),e("blockquote",[e("p",[s._v("https://webpack.js.org/configuration/devtool/")])])])}),[],!1,null,null,null);a.default=n.exports}}]);